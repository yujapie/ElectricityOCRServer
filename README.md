# âš¡ ì „ë ¥ëŸ‰ê³„ëŸ‰ê¸° OCRí”„ë¡œì íŠ¸
## [âœí”„ë¡œì íŠ¸ ê³¼ì •ê¸°ë¡](https://2sehi.github.io/tags/#%EC%A0%84%EB%A0%A5%EA%B3%84%EB%9F%89%EA%B8%B0-ocr%EC%9D%B8%EC%8B%9D)

- **âš¡ ì „ë ¥ëŸ‰ê³„ëŸ‰ê¸° OCRí”„ë¡œì íŠ¸**
  - ğŸ“Repository êµ¬ì¡°
  - ğŸ“Œí”„ë¡œì íŠ¸ ê°œìš”
  - ğŸ•‘ê°œë°œ ê¸°ê°„
  - ğŸ› í”„ë¡œì íŠ¸ êµ¬ì¡°
  - âœ…ë¶„ì„ í™˜ê²½ ë° ë„êµ¬
- **âš™ Server êµ¬í˜„**
  - ì „ì²˜ë¦¬ ë° OCR ëª¨ë¸
  - DB êµ¬ì¶•
  - Server êµ¬í˜„(Flask)
- **[ğŸ“± Android êµ¬í˜„](https://github.com/yujapie/ElectricityMeterOCR) ğŸ‘ˆRepository ì´ë™**

- **âœ¨ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì˜ìƒ**



## ğŸ“Repository êµ¬ì¡°

```
ElectricityOCRServer
â”œâ”€â”€ ğŸ“common
|	â””â”€â”€ ğŸ“ƒdb.py				    	        # database ì—°ê²°DTO
â”œâ”€â”€ ğŸ“model
|	â”œâ”€â”€ ğŸ“ƒOCRModel.py					# ì´ë¯¸ì§€ ì „ì²˜ë¦¬ í˜¸ì¶œë° íŒŒì¼ì €ì¥ì²˜ë¦¬
|	â””â”€â”€ ğŸ“ƒandroid_prep.py					# ì´ë¯¸ì§€ ì „ì²˜ë¦¬ ë° OCRëª¨ë¸
â”œâ”€â”€ ğŸ“static
|	â””â”€â”€ğŸ“ img					        # ì´ë¯¸ì§€ ì €ì¥í´ë”
â””â”€â”€ğŸ“ƒapp.py					                # Serviceì—°ê²° Controller
```



## ğŸ“Œí”„ë¡œì íŠ¸ ê°œìš”

### 1) í”„ë¡œì íŠ¸ ì£¼ì œ ë° ì„ ì • ë°°ê²½

[í”„ë¡œì íŠ¸ ì´ˆê¸° ê³„íšì„œ](https://magical-goldenrod-6ed.notion.site/65b0ddbbdc774add97819917c1eb5dd9)

ì „ë ¥ëŸ‰ê³„ëŸ‰ê¸°ì—ëŠ” ì „ë ¥ëŸ‰ì„ í•œêµ­ì „ë ¥ê³µì‚¬ì— ì „ì†¡í•˜ë„ë¡ í•´ì£¼ëŠ” í†µì‹  ëª¨ë€ì´ ë¶€ì°©ë¨. ì „ë ¥ëŸ‰ ì •ë³´ë¥¼ ì†¡ìˆ˜ì‹  ë° ê´€ë¦¬ë¥¼ ìœ„í•´ì„œ ì „ë ¥ëŸ‰ê³„ëŸ‰ê¸°ì˜ ê¸°ê¸°ì •ë³´ì™€ í†µì‹  ëª¨ë€ì˜ ë°”ì½”ë“œ ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ í•´ì•¼í•¨.

**ì „ë ¥ëŸ‰ê³„ëŸ‰ê¸°ì˜ ì •ë³´**ì™€ **í†µì‹  ëª¨ë€ì— ë¶€ì°©ëœ ë°”ì½”ë“œì •ë³´ë¥¼** **ì¼ì¼ì´ ê¸°ì¬í•˜ëŠ”ë° ì‹œê°„ì´ ê±¸ë¦¬ê³  ê¸°ì¬ë‚´ìš©ê³¼ ì‹¤ì œ ì •ë³´ì— ì°¨ì´ê°€ ë°œìƒ**

![image](https://user-images.githubusercontent.com/58774664/136534302-29f47d5d-fff7-4101-af8b-ca3b8143c832.png)



### 2) í”„ë¡œì íŠ¸ ëª©ì 

OCRì¸ì‹ì„ í†µí•´ ì†ì‰½ê²Œ ì½ì–´ ë“¤ì—¬ ëª¨ë€ ì„¤ì¹˜ì˜ ê¸°ì¬ì‹œê°„ì„ ì¤„ì´ê³ , ê¸°ì¬ ë‚´ìš©ì˜ ì •í™•ë„ë¥¼ ë†’ì´ê³ ì í•¨




### 3) í”„ë¡œì íŠ¸ ëª©í‘œ(=ì„±ëŠ¥ ì§€í‘œ)

#### ROI íƒì§€
- ì „ì²´ ì´ë¯¸ì§€(789ê°œ) ì¤‘ 8-segment ROI íƒì§€ì„±ê³µ : **80.9%** (789ê°œ ì¤‘ 638ê°œ)
  - í•œê°œì˜ ì´ë¯¸ì§€ì—ì„œ  ROI 2ê°œ íƒì§€í•œ ê²½ìš° : ì´ë¯¸ì§€ 5ê°œ
  - ì‹¤ì œ ROIì¢Œí‘œê°€ ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ ìˆìŒ
  - ë‘ ê°œì˜ ROI ì¤‘ ì‹¤ì œ ROIë¥¼ íŒë³„ ê°€ëŠ¥í•¨


#### OCR
>  **ROI íƒì§€ì— ì‹¤íŒ¨**í•˜ê±°ë‚˜ í•œê°œì˜ ì´ë¯¸ì§€ì—ì„œ **ROI 2ê°œ íƒì§€**í•œ ê²½ìš°ëŠ” íšŒì „, íˆ¬ì‹œë³€í™˜í•˜ì§€ ëª»í•˜ë¯€ë¡œ **OCR ì²˜ë¦¬ì—ì„œ ì œì™¸**í•˜ì˜€ìŒ

- ROI íƒì§€ì— ì„±ê³µí•œ ì´ë¯¸ì§€(638ê°œ) ì¤‘ì—ì„œ **ì œì¡°ë²ˆí˜¸ì˜ ê¸¸ì´ì™€ í˜•ì‹ì´ ì¼ì¹˜**í•œ ê²½ìš° : **81.4%** (638ê°œ ì¤‘ 521ê°œ)
  - ê³„ëŸ‰ê¸° ì‹ë³„ì— ê°€ì¥ ì¤‘ìš”í•œ ë°ì´í„°ì¸ â€œì œì¡°ë²ˆí˜¸â€ ì˜ ê¸¸ì´ì™€ í˜•ì‹ì„ ê¸°ì¤€ìœ¼ë¡œ í‰ê°€í•¨
  - ì œì¡°ë²ˆí˜¸ëŠ” 15ê°œì˜ ìˆ«ìì™€ 3ê°œì˜ í•˜ì´í”ˆ(â€˜-â€˜)ìœ¼ë¡œ ì´ì–´ì ¸ ìˆìŒ


  - terractë¡œ ì½ì–´ë‚¸ ì œì¡°ë²ˆí˜¸ì™€ ì‹¤ì œ ì œì¡°ë²ˆí˜¸ì˜ ë¹„êµ
    - ROI íƒì§€ì— ì„±ê³µí•œ ì´ë¯¸ì§€(638ê°œ) ì¤‘ì—ì„œ ì œì¡° ë²ˆí˜¸ 15ê¸€ìë¥¼ ëª¨ë‘ ì •í™•íˆ ì½ì–´ë‚¸ ì´ë¯¸ì§€ì˜ ìˆ˜ : **61.59%** (638ê°œ ì¤‘ 393ê°œ)




#### ROI íƒì§€ + OCR

- - ì „ì²´ ì´ë¯¸ì§€(789ê°œ) ì¤‘ì—ì„œ ì œì¡° ë²ˆí˜¸ 15ê¸€ìë¥¼ ëª¨ë‘ ì •í™•íˆ ì½ì–´ë‚¸ ì´ë¯¸ì§€ì˜ ìˆ˜ : **49.8%** (789ê°œ ì¤‘ 393ê°œ)
  - ì „ì²´ ì œì¡°ë²ˆí˜¸ ê¸€ì(11835ê°œ) ì¤‘ì—ì„œ ì •í™•íˆ ì½ì–´ë‚¸ ê¸€ìì˜ ë¹„ìœ¨ : **64.5%** (11835ê°œ ì¤‘ì—ì„œ 7633ê°œ)



## ğŸ•‘ê°œë°œ ê¸°ê°„

- 2021.8.31 ~ 10.6 (5ì£¼)

| **êµ¬ë¶„**          | **ê¸°ê°„**        | **í™œë™**                                                  | **ë¹„ê³ **                   |
| ----------------- | --------------- | --------------------------------------------------------- | -------------------------- |
| **ì‚¬ì „ ê¸°íš**     | **â–¶** 8/31~9/6  | **â–¶** ê¸°íšì„œ ì‘ì„±                                         | **â–¶** OpenCV í•™ìŠµ          |
| **ë°ì´í„° ìˆ˜ì§‘**   | **â–¶** 8/31~9/15 | **â–¶** ì™¸ë¶€ ë°ì´í„° ìˆ˜ì§‘                                    | **â–¶** í˜‘ì•½ê¸°ì—… ë°ì´í„° ì œê³µ |
| **ë°ì´í„° ì „ì²˜ë¦¬** | **â–¶** 9/6~10/6  | **â–¶** OCR ëª¨ë¸ ê°œì„ ì„ ìœ„í•œ ì´ë¯¸ì§€ ì „ì²˜ë¦¬                  |                            |
| **ëª¨ë¸ë§**        | **â–¶** 9/24~10/4 | **â–¶** OCRëª¨ë¸ ì¸ì‹                                        |                            |
| **ì„œë¹„ìŠ¤ êµ¬ì¶•**   | **â–¶** 9/24~10/6 | **â–¶** ëª¨ë°”ì¼ ì„œë¹„ìŠ¤ ì‹œìŠ¤í…œ ì„¤ê³„  **â–¶** ëª¨ë°”ì¼ í”Œë«í¼ êµ¬í˜„ |                            |
| **ì´ ê°œë°œê¸°ê°„**   | **â–¶** 8/31~10/6 |                                                           |                            |



## ğŸ› í”„ë¡œì íŠ¸ êµ¬ì¡°

![image](https://user-images.githubusercontent.com/58774664/136537726-bc984ae7-7562-4519-abc0-c8ef9ccaec4d.png)



## âœ…ë¶„ì„ í™˜ê²½ ë° ë„êµ¬

- HW/Server
  - Window (ver 10 / CPU i7 / RAM 16)
  - Flask
- Language
  - Python (ver 3.7)
  - MySQL(ver 8.0.26)
  - Java(ver 11)
  - json
- Tools
  - Github
  - Slack
  - Google Drive
  - eXERD
- IDE
  - PyCharm
  - Android Studio
  - DBeaver
  - Eclipse
- Library
  - OpenCV (ver 4.5)
  - TensorOCR (=Tesseract)
  - Numpy (ver 1.19)



# âš™Server

## 1.ì „ì²˜ë¦¬ ë° OCR ëª¨ë¸

[ì´ë¯¸ì§€ ì²˜ë¦¬ê³¼ì •](https://magical-goldenrod-6ed.notion.site/OCR-d23cbc60d81c4265af7a6b6fa5c7588c)

https://user-images.githubusercontent.com/58774664/136685783-69435e2e-8580-4254-8dfe-6b836aa5e577.mp4





## 2.DataBase

- [DB êµ¬ì¶• SQL](https://github.com/2SEHI/OCR-Text-Detection/blob/main/db/CreateTableSQL.sql)

- [eXERD íŒŒì¼](https://github.com/2SEHI/OCR-Text-Detection/blob/main/db/Electricitydb_MySQL.exerd)

- [DB ëª…ì„¸ì„œ](https://magical-goldenrod-6ed.notion.site/DB-96c709ac9e3e4577abfe26913d14922e)

![image](https://user-images.githubusercontent.com/58774664/136549647-fcb7a7e7-2fcf-42b3-ba1f-fa974d161d5a.png)

## 3.Controller

- [API ë¬¸ì„œ](https://magical-goldenrod-6ed.notion.site/API-5b7ebb411af64518a58d5e12d65899bd)



# [ğŸ“±Android êµ¬í˜„](https://github.com/yujapie/ElectricityMeterOCR) ğŸ‘ˆRepository ì´ë™

## 1.Flow Chart

- [í™”ë©´íë¦„ë„(Flow Chart)](https://whimsical.com/ocr-HQB6W3DWodaLZ3mFEXkQZg)

![í™”ë©´ FLowChart](https://user-images.githubusercontent.com/58774664/136877051-3b9d2816-e4bd-41fa-a76d-b317ec119d53.png)

## 2.ëª¨ë€ ë°”ì½”ë“œ ì¸ì‹

-  Google Mobile Vision API ì˜ [Barcode scanning ë¼ì´ë¸ŒëŸ¬ë¦¬](https://developers.google.com/ml-kit/vision/barcode-scanning) ì‚¬ìš©í•˜ì—¬ ëª¨ë€ì˜ ë°”ì½”ë“œ ì •ë³´ë¥¼ ì½ì–´ëƒ„



# âœ¨ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì˜ìƒ
https://user-images.githubusercontent.com/58774664/136877227-b380405a-3f72-4779-81dd-ef783e64af78.mp4
